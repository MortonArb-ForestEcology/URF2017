library(dplR)
setwd("~/Github/URF2017/")
rawringfiles <- Sys.glob('~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/*.rwl')
permtree.data <-read.csv(file = "~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/TreeData-raw_data.csv", na.strings = "", colClasses=c("Tag"="character"))
temptree.data <-read.csv("~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/URF_2017_AdditionalOakData-raw_data.csv", na.strings="", colClasses=c("Tag"="character"))
names(permtree.data)[6] <- "Species"
permtree.data[,3] <- as.character(permtree.data[,3])
temptree.data[,3] <- as.character(temptree.data[,3])
tree.species <- rbind(permtree.data[,c(3,6)], temptree.data[,c(3,4)])
tree.species$Species <- as.factor(substr(tree.species$Species, 1, 2))
trw.names <- dir("~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/")
trw.names.split <- strsplit(trw.names, "-")
trw.files <- rawringfiles[grep('ring width', rawringfiles)]
trw.data <- NA
index <- 0
for(i in trw.files) {
aa <- read.rwl(i)
index <- index + 1
bb <- trw.names.split[[index]]
bb <- append(bb, as.character(tree.species[tree.species$Tag==bb[2],2]))
nam <- paste(bb[c(7, 2, 3, 5)], collapse="")
trw.files <- append(trw.files, nam)
assign(nam, aa)
}
trw.files
rawringfiles
trw.files
library(dplR)
setwd("~/Github/URF2017/")
rawringfiles <- Sys.glob('~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/*.rwl')
permtree.data <-read.csv(file = "~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/TreeData-raw_data.csv", na.strings = "", colClasses=c("Tag"="character"))
temptree.data <-read.csv("~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/URF_2017_AdditionalOakData-raw_data.csv", na.strings="", colClasses=c("Tag"="character"))
names(permtree.data)[6] <- "Species"
permtree.data[,3] <- as.character(permtree.data[,3])
temptree.data[,3] <- as.character(temptree.data[,3])
tree.species <- rbind(permtree.data[,c(3,6)], temptree.data[,c(3,4)])
tree.species$Species <- as.factor(substr(tree.species$Species, 1, 2))
trw.names <- dir("~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/")
trw.names.split <- strsplit(trw.names, "-")
trw.files <- rawringfiles[grep('ring width', rawringfiles)]
trw.data <- NA
index <- 0
trw.files
for(i in trw.files) {
aa <- read.rwl(i)
index <- index + 1
bb <- trw.names.split[[index]]
bb <- append(bb, as.character(tree.species[tree.species$Tag==bb[2],2]))
nam <- paste(bb[c(7, 2, 3, 4, 5)], collapse="")
trw.files <- append(trw.files, nam)
assign(nam, aa)
}
trw.files
rw.names <- dir("~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/")
trw.names <- rw.names[grep('ring width', rw.names)]
trw.names.split <- strsplit(trw.names, "-")
trw.files <- rawringfiles[grep('ring width', rawringfiles)]
trw.data <- NA
index <- 0
for(i in trw.files) {
aa <- read.rwl(i)
index <- index + 1
bb <- trw.names.split[[index]]
bb <- append(bb, as.character(tree.species[tree.species$Tag==bb[2],2]))
nam <- paste(bb[c(7, 2, 3, 4, 5)], collapse="")
trw.files <- append(trw.files, nam)
assign(nam, aa)
}
rw.files
trw.files
library(dplR)
setwd("~/Github/URF2017/")
rawringfiles <- Sys.glob('~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/*.rwl')
permtree.data <-read.csv(file = "~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/TreeData-raw_data.csv", na.strings = "", colClasses=c("Tag"="character"))
temptree.data <-read.csv("~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/URF_2017_AdditionalOakData-raw_data.csv", na.strings="", colClasses=c("Tag"="character"))
names(permtree.data)[6] <- "Species"
permtree.data[,3] <- as.character(permtree.data[,3])
temptree.data[,3] <- as.character(temptree.data[,3])
tree.species <- rbind(permtree.data[,c(3,6)], temptree.data[,c(3,4)])
tree.species$Species <- as.factor(substr(tree.species$Species, 1, 2))
rw.names <- dir("~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/")
trw.names <- rw.names[grep('ring width', rw.names)]
trw.names.split <- strsplit(trw.names, "-")
trw.files <- rawringfiles[grep('ring width', rawringfiles)]
trw.data <- NA
index <- 0
for(i in trw.files) {
aa <- read.rwl(i)
index <- index + 1
bb <- trw.names.split[[index]]
bb <- append(bb, as.character(tree.species[tree.species$Tag==bb[2],2]))
nam <- paste(bb[c(7, 2, 3, 5)], collapse="")
trw.files <- append(trw.files, nam)
assign(nam, aa)
}
trw.files
trw.names.split[[5]]
trw.files <- na.omit(trw.files)
all.trw <- combine.rwl(get(trw.files[1]), get(trw.files[2]))
?combine.rwl
rw.names <- dir("~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/")
trw.names <- rw.names[grep('ring width', rw.names)]
trw.names.split <- strsplit(trw.names, "-")
trw.names.split
i=trw.files[1]
i
tr.path <- "~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/"
rw.names <- dir(tr.path)
rw.names
trw.names <- rw.names[grep('ring width', rw.names)]
trw.names.split <- strsplit(trw.names, "-")
1:length(rw.names)
i=1
file.path(tr.path, rw.names[i])
file.tmp <- read.rwl(file.path(tr.path, rw.names[i]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[i]))
bb <- trw.names.split[[i]]
bb
bb <- append(bb, as.character(tree.species[tree.species$Tag==bb[2],2]))
bb
nam <- paste(bb[c(7, 2, 3, 5)], collapse="")
nam
bb <- trw.names.split[[i]]
nam <- paste(as.character(tree.species[tree.species$Tag==bb[2],2]), bb[c(2, 3, 5)], collapse="")
nam
file.tmp <- read.rwl(file.path(tr.path, rw.names[i]))
bb <- trw.names.split[[i]]
nam <- paste(as.character(tree.species[tree.species$Tag==bb[2],2]), bb[c(2, 3, 5)], sep="", collapse="")
nam
as.character(tree.species[tree.species$Tag==bb[2],2])
paste(as.character(tree.species[tree.species$Tag==bb[2],2]), bb[c(2, 3, 5)])
bb
bb[c(2, 3, 5)]
paste(bb[c(2, 3, 5)], collapse="")
nam <- paste(0as.character(tree.species[tree.species$Tag==bb[2],2]), paste(bb[c(2, 3, 5)], collapse=""))
nam <- paste0(as.character(tree.species[tree.species$Tag==bb[2],2]), paste(bb[c(2, 3, 5)], collapse=""))
nam
names(file.tmp)
names(file.tmp) <- nam
names(file.tmp)
files.all
files.all <- rwl.combine(files.all, file.tmp)
files.all <- combine.rwl(files.all, file.tmp)
files.all <- NA
files.all <- combine.rwl(files.all, file.tmp)
files.all <- read.rwl(file.path(tr.path, rw.names[1]))
bb <- trw.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==bb[2],2]), paste(bb[c(2, 3, 5)], collapse=""))
names(files.all) <- nam
i
i=2
file.tmp <- read.rwl(file.path(tr.path, rw.names[i]))
bb <- trw.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==bb[2],2]), paste(bb[c(2, 3, 5)], collapse=""))
names(file.tmp) <- nam
file.tmp
files.all <- combine.rwl(files.all, file.tmp)
dim(files.all)
class(files.all)
library(dplR)
setwd("~/Github/URF2017/")
rawringfiles <- Sys.glob('~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/*.rwl')
permtree.data <-read.csv(file = "~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/TreeData-raw_data.csv", na.strings = "", colClasses=c("Tag"="character"))
temptree.data <-read.csv("~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/URF_2017_AdditionalOakData-raw_data.csv", na.strings="", colClasses=c("Tag"="character"))
names(permtree.data)[6] <- "Species"
permtree.data[,3] <- as.character(permtree.data[,3])
temptree.data[,3] <- as.character(temptree.data[,3])
tree.species <- rbind(permtree.data[,c(3,6)], temptree.data[,c(3,4)])
tree.species$Species <- as.factor(substr(tree.species$Species, 1, 2))
tr.path <- "~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/"
rw.names <- dir(tr.path)
trw.names <- rw.names[grep('ring width', rw.names)]
trw.names.split <- strsplit(trw.names, "-")
files.all <- read.rwl(file.path(tr.path, rw.names[1]))
aa <- trw.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[2],2]), paste(aa[c(2, 3, 5)], collapse=""))
names(files.all) <- nam
for(i in 2:length(rw.names)){
file.tmp <- read.rwl(file.path(tr.path, rw.names[i]))
aa <- trw.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[2],2]), paste(aa[c(2, 3, 5)], collapse=""))
names(file.tmp) <- nam
# Appending each file to the master list
files.all <- combine.rwl(files.all, file.tmp)
}
files.all
View(files.all)
trw.names.split
files.all <- read.rwl(file.path(tr.path, rw.names[1]))
aa <- trw.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[2],2]), paste(aa[c(2, 3, 5)], collapse=""))
names(files.all) <- nam
for(i in 2:length(rw.names)){
file.tmp <- read.rwl(file.path(tr.path, rw.names[i]))
aa <- trw.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[2],2]), paste(aa[c(2, 3, 5)], collapse=""))
names(file.tmp) <- nam
# Appending each file to the master list
files.all <- combine.rwl(files.all, file.tmp)
}
View(files.all)
file.tmp <- read.rwl(file.path(tr.path, rw.names[1]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[2]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[3]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[4]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[5]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[6]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[7]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[8]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[9]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[10]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[11]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[12]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[13]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[14]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[15]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[16]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[17]))
file.tmp <- read.rwl(file.path(tr.path, rw.names[18]))
for(i in 2:length(rw.names)){
file.tmp <- read.rwl(file.path(tr.path, rw.names[i]))
aa <- trw.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[2],2]), paste(aa[c(2, 3, 5)], collapse=""))
names(file.tmp) <- nam
# Appending each file to the master list
files.all <- combine.rwl(files.all, file.tmp)
}
nam
for(i in 2:length(rw.names)){
file.tmp <- read.rwl(file.path(tr.path, trw.names[i]))
aa <- trw.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[2],2]), paste(aa[c(2, 3, 5)], collapse=""))
names(file.tmp) <- nam
# Appending each file to the master list
files.all <- combine.rwl(files.all, file.tmp)
}
trw.names
library(dplR)
setwd("~/Github/URF2017/")
rawringfiles <- Sys.glob('~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/*.rwl')
permtree.data <-read.csv(file = "~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/TreeData-raw_data.csv", na.strings = "", colClasses=c("Tag"="character"))
temptree.data <-read.csv("~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/URF_2017_AdditionalOakData-raw_data.csv", na.strings="", colClasses=c("Tag"="character"))
names(permtree.data)[6] <- "Species"
permtree.data[,3] <- as.character(permtree.data[,3])
temptree.data[,3] <- as.character(temptree.data[,3])
tree.species <- rbind(permtree.data[,c(3,6)], temptree.data[,c(3,4)])
tree.species$Species <- as.factor(substr(tree.species$Species, 1, 2))
tr.path <- "~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/"
rw.names <- dir(tr.path)
trw.names <- rw.names[grep('ring width', rw.names)]
trw.names.split <- strsplit(trw.names, "-")
files.all <- read.rwl(file.path(tr.path, rw.names[1]))
aa <- trw.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[2],2]), paste(aa[c(2, 3, 5)], collapse=""))
names(files.all) <- nam
for(i in 2:length(trw.names)){
file.tmp <- read.rwl(file.path(tr.path, trw.names[i]))
aa <- trw.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[2],2]), paste(aa[c(2, 3, 5)], collapse=""))
names(file.tmp) <- nam
# Appending each file to the master list
files.all <- combine.rwl(files.all, file.tmp)
}
View(files.all)
write.rwl(files.all, "oaks_master_trw.rwl")
files.all
write.rwl(files.all, "oaks_master_trw.rwl", long.names=TRUE)
library(dplR)
setwd("~/Github/URF2017/")
rawringfiles <- Sys.glob('~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/*.rwl')
permtree.data <-read.csv(file = "~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/TreeData-raw_data.csv", na.strings = "", colClasses=c("Tag"="character"))
temptree.data <-read.csv("~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/URF_2017_AdditionalOakData-raw_data.csv", na.strings="", colClasses=c("Tag"="character"))
names(permtree.data)[6] <- "Species"
permtree.data[,3] <- as.character(permtree.data[,3])
temptree.data[,3] <- as.character(temptree.data[,3])
tree.species <- rbind(permtree.data[,c(3,6)], temptree.data[,c(3,4)])
tree.species$Species <- as.factor(substr(tree.species$Species, 1, 2))
tr.path <- "~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/"
rw.names <- dir(tr.path)
trw.names <- rw.names[grep('ring width', rw.names)]
trw.names.split <- strsplit(trw.names, "-")
files.all <- read.rwl(file.path(tr.path, rw.names[1]))
aa <- trw.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[2],2]), paste(aa[c(2, 3, 5)], collapse=""))
names(files.all) <- nam
for(i in 2:length(trw.names)){
file.tmp <- read.rwl(file.path(tr.path, trw.names[i]))
aa <- trw.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[2],2]), paste(aa[c(2, 3, 5)], collapse=""))
names(file.tmp) <- nam
# Appending each file to the master list
files.all <- combine.rwl(files.all, file.tmp)
}
write.rwl(files.all, "oaks_master_trw.rwl")
View(files.all)
rawringfiles
nam
file.tmp
trw.names.split
library(dplR)
setwd("~/Github/URF2017/")
rawringfiles <- Sys.glob('~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/*.rwl')
permtree.data <-read.csv(file = "~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/TreeData-raw_data.csv", na.strings = "", colClasses=c("Tag"="character"))
temptree.data <-read.csv("~/Github/EastWoods-MonitoringPlots/TreeCensus_2017/data/URF_2017_AdditionalOakData-raw_data.csv", na.strings="", colClasses=c("Tag"="character"))
names(permtree.data)[6] <- "Species"
permtree.data[,3] <- as.character(permtree.data[,3])
temptree.data[,3] <- as.character(temptree.data[,3])
tree.species <- rbind(permtree.data[,c(3,6)], temptree.data[,c(3,4)])
tree.species$Species <- as.factor(substr(tree.species$Species, 1, 2))
tr.path <- "~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/RawRingWidths/"
rw.names <- dir(tr.path)
trw.names <- rw.names[grep('ring width', rw.names)]
trw.names.split <- strsplit(trw.names, "-")
files.all <- read.rwl(file.path(tr.path, rw.names[1]))
View(files.all)
aa <- trw.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[2],2]), paste(aa[c(2, 3, 5)], collapse=""))
trw.names.split[[1]]
as.character(tree.species[tree.species$Tag==aa[2],2]
tree.species[tree.species$Tag==aa[3],2]
aa <- trw.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(2, 3, 5)], collapse=""))
names(files.all) <- nam
files.all <- read.rwl(file.path(tr.path, rw.names[1]))
aa <- trw.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(3, 4, 6)], collapse=""))
names(files.all) <- nam
View(files.all)
for(i in 2:length(trw.names)){
file.tmp <- read.rwl(file.path(tr.path, trw.names[i]))
aa <- trw.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(3, 4, 6)], collapse=""))
names(file.tmp) <- nam
# Appending each file to the master list
files.all <- combine.rwl(files.all, file.tmp)
}
write.rwl(files.all, "oaks_master_trw.rwl")
View(files.all)
write.rwl(files.all, "oaks_master_trw.rwl", long.names=TRUE)
tr.happy.path <- "~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/HappyTrees"
files.happy <- read.rwl(file.path(tr.happy.path, trw.names[1]))
aa <- trw.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(3, 4, 6)], collapse=""))
names(files.happy) <- nam
tr.happy.path <- "~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/HappyTrees"
rw.happy.names <- dir(tr.happy.path)
trw.happy.names <- rw.names[grep('ring width', rw.happynames)]
trw.happy.names <- rw.names[grep('ring width', rw.happy.names)]
trw.happy.names.split <- strsplit(trw.names, "-")
files.happy <- read.rwl(file.path(tr.happy.path, trw.happy.names[1]))
aa <- trw.happy.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(3, 4, 6)], collapse=""))
names(files.happy) <- nam
for(i in 2:length(trw.names)){
file.tmp <- read.rwl(file.path(tr.happy.path, trw.names[i]))
aa <- trw.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(3, 4, 6)], collapse=""))
names(file.tmp) <- nam
# Appending each file to the master list
files.happy <- combine.rwl(files.happy, file.tmp)
}
for(i in 2:length(trw.happy.names)){
file.tmp <- read.rwl(file.path(tr.happy.path, trw.happy.names[i]))
aa <- trw.happy.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(3, 4, 6)], collapse=""))
names(file.tmp) <- nam
# Appending each file to the master list
files.happy <- combine.rwl(files.happy, file.tmp)
}
trw.happy.names[i]
rw.happy.names <- dir(tr.happy.path)
trw.happy.names <- rw.happy.names[grep('ring width', rw.happy.names)]
trw.happy.names.split <- strsplit(trw.names, "-")
files.happy <- read.rwl(file.path(tr.happy.path, trw.happy.names[1]))
aa <- trw.happy.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(3, 4, 6)], collapse=""))
names(files.happy) <- nam
for(i in 2:length(trw.happy.names)){
file.tmp <- read.rwl(file.path(tr.happy.path, trw.happy.names[i]))
aa <- trw.happy.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(3, 4, 6)], collapse=""))
names(file.tmp) <- nam
# Appending each file to the master list
files.happy <- combine.rwl(files.happy, file.tmp)
}
write.rwl(files.happy, "oaks_happy_trw.rwl", long.names=TRUE)
View(files.happy)
tr.happy.path <- "~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/HappyTrees"
rw.happy.names <- dir(tr.happy.path)
trw.happy.names <- rw.happy.names[grep('ring width', rw.happy.names)]
trw.happy.names.split <- strsplit(trw.names, "-")
files.happy <- read.rwl(file.path(tr.happy.path, trw.happy.names[1]))
aa <- trw.happy.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(3, 4, 6)], collapse=""))
names(files.happy) <- nam
for(i in 2:length(trw.happy.names)){
file.tmp <- read.rwl(file.path(tr.happy.path, trw.happy.names[i]))
aa <- trw.happy.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(3, 4, 6)], collapse=""))
names(file.tmp) <- nam
# Appending each file to the master list
files.happy <- combine.rwl(files.happy, file.tmp)
}
write.rwl(files.happy, "oaks_happy_trw.rwl", long.names=TRUE)
tr.happy.path <- "~/Google Drive/Morton Summer 2017/East Woods/Rollinson_Monitoring/Data/Tree Cores/HappyTrees"
rw.happy.names <- dir(tr.happy.path)
trw.happy.names.split <- strsplit(trw.names, "-")
trw.happy.names <- rw.happy.names[grep('ring width', rw.happy.names)]
files.happy <- read.rwl(file.path(tr.happy.path, trw.happy.names[1]))
aa <- trw.happy.names.split[[1]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(3, 4, 6)], collapse=""))
names(files.happy) <- nam
for(i in 2:length(trw.happy.names)){
file.tmp <- read.rwl(file.path(tr.happy.path, trw.happy.names[i]))
aa <- trw.happy.names.split[[i]]
nam <- paste0(as.character(tree.species[tree.species$Tag==aa[3],2]), paste(aa[c(3, 4, 6)], collapse=""))
names(file.tmp) <- nam
# Appending each file to the master list
files.happy <- combine.rwl(files.happy, file.tmp)
}
write.rwl(files.happy, "oaks_happy_trw.rwl", long.names=TRUE)
